<div *ngIf="sessions">
  <div class="mt-2 mb-5">
    <span class="latoBlack f32 deepBlue">Formations</span>
  </div>
  <div class="mb-5 d-flex justify-content-end align-items-center">
    <button class="btn primaryButton latoBold noWrap py-6 px-md-5 mr-3 borderRadsuis10 f14"
      (click)="openModal(template)">Créer une session</button>
    <div class="">
      <input type="text" class="form-control customFomControl meduimFormContrl latoRegular f14" placeholder="Recherche">
    </div>
  </div>
  <div class="table-responsive">
    <table class="table table-borderless">
      <thead class="latoRegular f14">
        <tr>
          <th scope="col">Name</th>
          <th scope="col">Formation</th>
          <th scope="col">Date de debut</th>
          <th scope="col">Date de fin</th>
          <th scope="col">Status</th>

        </tr>
      </thead>
      <tbody>
        <tr class="clickableTr" *ngFor="let session of sessions.results" routerLink="stuff/{{ session.id }}"queryParamsHandling="merge">
          <td class="latoBold f14 deepBlue">{{ session.name }}</td>
          <td class="latoRegular f14 deepBlue">3</td>
          <td class="latoRegular f14 deepBlue">{{ session.starting_date }}</td>
          <td class="latoRegular f14 deepBlue">{{ session.finishing_date }}</td>
          <td class="latoRegular f14 greenColor">Activé</td>
        </tr>
      </tbody>
    </table>
  </div>
  <ng-template #template>
    <div class="d-flex justify-content-end">
      <button class="btn p-0 closeButton" (click)="modalRef.hide()">
        <img src="../../assets/images/svg/icons/X.svg" alt="">
      </button>
    </div>
    <div class="modal-body">
      <div class="d-flex justify-content-between mt-4 mb-3">
        <span class="latoBold f24 deepBlue">Créer une session</span>
        <button class="btn primaryButton latoBold f14 borderRadsuis10 py-2 px-4"
          (click)="addSession(sessionForm.value)"> Sauvegarder</button>
      </div>
      <div class="row no-gutters mt-5">
        <div class="col-md-10">
          <form [formGroup]="sessionForm" autocomplete="off">
            <div class="form-group">
              <label for="sessionName" class="latoBold f14 deepBlue">Nom de la session<span class="redColor">*</span></label>
              <input type="text" formControlName="name"
                class="form-control largeFormControl latoMeduim f14 deepBlue borderRadsuis10" id="sessionName" [ngClass]="{'is-invalid': f.name.errors && submit}"
                placeholder="Ajouter un nom">
            </div>
            <div class="form-group">
              <label for="name" class="latoBold f14 deepBlue">Jour de debut <span class="redColor">*</span></label>
              <input type="text" formControlName="starting_date" placeholder="Jour de debut de la session"[ngClass]="{'is-invalid': f.starting_date.errors && submit}"
                class="form-control largeFormControl latoRegular f14 lightBlue borderRadsuis10" bsDatepicker
                container="" [bsConfig]="bsConfig" placement="bottom">
            </div>
            <div class="form-group">
              <label for="name" class="latoBold f14 deepBlue">Jour de fin <span class="redColor">*</span></label>
              <input type="text" formControlName="finishing_date" placeholder="Jour de fin de la session"[ngClass]="{'is-invalid': f.finishing_date.errors && submit}"
                class="form-control largeFormControl latoRegular f14 lightBlue borderRadsuis10" bsDatepicker
                container="" [bsConfig]="bsConfig" placement="bottom">
            </div>
            <div *ngIf="!this.center" class="form-group">
              <label for="gender" class="latoBold f14 deepBlue">Centre <span class="redColor ml-1">*</span></label>
              <select id="gender" formControlName="center"[ngClass]="{'is-invalid': f.center.errors && submit}"
                class="form-control latoRegular f14 lightBlue borderRadsuis10">
                <option [ngValue]=null>Selectionner</option>
                <option *ngFor="let center  of centers" [ngValue]=center.id>{{ center.name }}</option>
              </select>
            </div>
          </form>
        </div>
      </div>
    </div>
  </ng-template>
</div>
