<div *ngIf="!showDiv;else noShowDiv">
  <div *ngIf="student" class="row no-gutters">
    <div class="col-md-6">
      <span class="latoBold f18 deepBlue">Information</span>
      <div class="mt-4 d-flex flex-column">
        <span class="latoBold f14 deepBlue">Nom</span>
        <span class="latoBold f14 lightBlue mt-2">{{ student.user.family_name }}</span>
      </div>
      <div class="mt-4 d-flex flex-column">
        <span class="latoBold f14 deepBlue">Prénom</span>
        <span class="latoBold f14 lightBlue mt-2">{{ student.user.name }}</span>
      </div>
      <div class="mt-4 d-flex flex-column">
        <span class="latoBold f14 deepBlue">Genre</span>
        <span *ngIf="student.user.gender==='M' ;else Fgender" class="latoBold f14 lightBlue mt-2">Male</span>
        <ng-template #Fgender>
          <span  class="latoBold f14 lightBlue mt-2">Female</span>
        </ng-template>
      </div>
      <div class="mt-4 d-flex flex-column">
        <span class="latoBold f14 deepBlue">Date de naissance</span>
        <span class="latoBold f14 lightBlue mt-2">{{ student.user.birthday |date:'dd/MM/yyyy' }}</span>
      </div>
      <div class="mt-5 mb-4">
        <span class="latoBold f18 deepBlue">Information additionnel</span>
      </div>
      <div class="mt-4 d-flex flex-column">
        <span class="latoBold f14 deepBlue">Niveau</span>
        <span class="latoBold f14 lightBlue mt-2">{{ student.level }}</span>
      </div>
      <!-- <div class="mt-4 d-flex flex-column">
        <span class="latoBold f14 deepBlue">Connaissance</span>
        <span class="latoBold f14 lightBlue mt-2">Débutant</span>
      </div> -->
      <div class="mt-4 d-flex flex-column">
        <span class="latoBold f14 deepBlue">Situation médical</span>
        <span class="latoBold f14 lightBlue mt-2">Aucune</span>
      </div>
    </div>
    <div class="col-md-6">
      <!-- <span class="latoBold f18 deepBlue">Autre information</span>
      <div class="mt-4 d-flex flex-column">
        <span class="latoBold f14 deepBlue">Jour de début</span>
        <span class="latoBold f14 lightBlue mt-2">11/09/2021</span>
      </div> -->
      <div class="">
        <span class="latoBold f18 deepBlue">Client</span>
      </div>
      <div class="mt-4 d-flex flex-column">
        <span class="latoBold f14 deepBlue">Nom du client</span>
        <span class="latoBold f14 lightBlue mt-2">{{student.next_contact_name ||student.user.full_name}}</span>
      </div>
      <div class="mt-4 d-flex flex-column">
        <span class="latoBold f14 deepBlue">Téléphone</span>
        <span class="latoBold f14 lightBlue mt-2">{{student.next_contact_phone||student.user.phone}}</span>
      </div>
      <div class="mt-5 mb-4">
        <span class="latoBold f18 deepBlue">Formation</span>
      </div>
      <div class="mt-4 d-flex flex-column">
        <span class="latoBold f14 deepBlue">Nom de la session</span>
        <div>
          <span *ngFor="let membership of student.memberships_verbose;let isLast=last" class="latoBold f14 lightBlue mt-2">{{membership.session_verbose.name}}{{isLast ? '' : ', '}}</span>
        </div>
      </div>
      <div class="mt-4 d-flex flex-column">
        <span class="latoBold f14 deepBlue">Nom de la formation</span>
       <div >
        <span *ngFor="let membership of student.memberships_verbose;let isLast=last" class="latoBold f14 lightBlue mt-2">{{membership.course_verbose.name}}{{isLast ? '' : ', '}}</span>
       </div>
      </div>
    </div>
  </div>
</div>
<ng-template #noShowDiv>
  <div class="d-flex mt-3 mt-lg-0">
    <button class="btn outletPrimary latoBold py-6 px-md-4 px-xl-5 px-3 mr-1 mr-md-2 borderRadsuis10 f14"
      (click)="studentModal.show()">Modifier</button>
    <button class="btn outletPrimary latoBold py-6 px-md-4 px-xl-5 px-3 mr-1 mr-md-2 borderRadsuis10 f14"
      (click)="printModal.show()">Imprimer</button>
    <button class="btn dangerousBtn latoBold py-6 px-md-4 px-xl-5 px-3 borderRadsuis10 f14"
      (click)="deleteModal.deleteModal.show()">Supprimer</button>
  </div>
</ng-template>
<div bsModal #printModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="dialog-child-name"
  [config]="{ ignoreBackdropClick: 'false' }">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="d-flex justify-content-end">
        <button class="btn p-0 closeButton" (click)="printModal.hide()">
          <img src="../../assets/images/svg/icons/X.svg" alt="">
        </button>
      </div>
      <div class="p-md-5 p-2">
        <div class="d-flex justify-content-md-end mb-4 align-items-center">
          <button class="btn primaryButton latoBold py-6 px-5 borderRadsuis10 f14" printSectionId="print-section" ngxPrint>Imprimer</button>
        </div>
        <div id="print-section">
            <div style="display: flex;justify-content: space-between; padding-bottom:1rem;border-bottom: 2px solid #E2E9F3" >
                <div style="display: flex;">
                  <img *ngIf="student.center_verbose.logo;else noCenterLogo" src="student.center_verbose.logo" alt="" style="width: 55px;height: 55px; border-radius: 50%; ">
                 <ng-template #noCenterLogo>
                   <div style="width: 55px;
                   height: 55px;
                   border-radius: 50%;">

                   </div>
                 </ng-template>
                  <span style="color:#08102b;font-size:24px;font-family:latoBold;padding-left: .5rem ;text-transform:capitalize" >{{student?.center_verbose?.name}}</span>
                </div>
                <div style="display: flex; flex-direction: column; font-size: 12px;" class="d-flex flex-column latoRegular f12 deepBlue align-items-end">
                  <span>{{student?.center_verbose.address}}</span>
                  <span>Contact@escrt.com</span>
                  <span> {{student?.center_verbose.phone}} </span>
                </div>
              </div>
              <div style="display: flex; justify-content: space-between;margin-top: 1rem;" class="d-md-flex ">
                <div style="display: flex;flex-direction: column;">
                  <div style="display: flex; align-items: center;">
                    <img src="{{student.user.picture}}" alt="" style="width: 38px;
                    height: 38px;
                    border-radius: 50%;
                    background-color: #edf0f5;margin-right:.5rem" >
                    <div style="display: flex;flex-direction: column;">
                      <span style="font-size: 18px; color: #08102b;" class="latoBold f18 deepBlue">{{student.user.family_name}} {{student.user.name}} </span>
                      <span style="font-size: 14px;color: #89a8cf;" class="latoMeduim f14 lightBlue">{{student.birthday}}</span>
                    </div>
                  </div>
                  <div class="d-flex flex-column align-items-md-end">
                    <div class="d-flex align-items-center mt-2">
                      <span class="latoRegular f14 lightBlue mr-4">Session:</span>
                      <ng-select [items]="session" bindLabel="name" bindValue="name" placeholder="Select city"
                        class="ngselectBlue latoBold f12" [(ngModel)]="selectedCityName">
                      </ng-select>
                    </div>
                    <div class="d-flex align-items-center mt-2">
                      <span class="latoRegular f14 lightBlue mr-4">Formation:</span>
                      <ng-select [items]="training" bindLabel="name" bindValue="name" placeholder="Select city"
                        class="ngselectBlue latoBold f12" [(ngModel)]="selectedtrainingName">
                      </ng-select>
                    </div>
                  </div>
                </div>
                <div class="d-flex flex-column align-items-md-end mt-3 mt-md-0">
                  <!-- <div><span class="latoBold f12 deepBlue mr-2">Jour de début:</span> <span
                      class="latoRegular f12 deepBlue">01/12/2020</span> </div> -->
                  <div><span class="latoBold f12 deepBlue mr-2">Nom du client:</span> <span
                      class="latoRegular f12 deepBlue">{{student.next_contact_name ||(student.user.family_name )}} </span> </div>
                  <div><span class="latoBold f12 deepBlue mr-2">Téléphone:</span> <span
                      class="latoRegular f12 deepBlue">0242406837</span> </div>
                  <!-- <div><span class="latoBold f12 deepBlue mr-2">Date du rapport:</span> <span
                      class="latoRegular f12 deepBlue">03/02/2021</span> </div> -->
                </div>
              </div>
              <div class="table-responsive mt-4">
                <table class="table table-borderless">
                  <thead class="latoRegular f14">
                    <tr>
                      <th scope="col">Date de Paiement</th>
                      <th scope="col">Prix</th>
                      <th scope="col">Paiement</th>
                      <th scope="col">Reste</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr class="borderBottom">
                      <td class="latoRegular f14 deepBlue">12/2020</td>
                      <td class="latoRegular f14 deepBlue">20,000,00 Da</td>
                      <td class="latoRegular f14 greenColor">5,000,00 Da</td>
                      <td class="latoRegular f14 redColor">15,000,00 Da</td>
                    </tr>
                    <tr class="borderBottom">
                      <td class="latoRegular f14 deepBlue">28/12/2020</td>
                      <td class="latoRegular f14 deepBlue">20,000,00 Da</td>
                      <td class="latoRegular f14 greenColor">5,000,00 Da</td>
                      <td class="latoRegular f14 redColor">10,000,00 Da</td>
                    </tr>
                    <tr class="borderBottom">
                      <td class="latoRegular f14 deepBlue">03/01/2020</td>
                      <td class="latoRegular f14 deepBlue">20,000,00 Da</td>
                      <td class="latoRegular f14 greenColor">10,000,00 Da</td>
                      <td class="latoRegular f14 redColor">00,00 Da</td>
                    </tr>
                  </tbody>
                </table>
              </div>
        </div>
      </div>
    </div>
  </div>
</div>
<app-student-modal *ngIf="student" #studentModal [student]=student></app-student-modal>
<app-confirmation-modal #deleteModal (onConfirm)="onConfirm($event)"></app-confirmation-modal>
